{% extends "layout.html" %}
{% block content %}
  <div class="flex flex-wrap items-center gap-2 mb-4">
    <form method="get" class="flex items-center gap-2">
      <input type="text" name="q" value="{{ q }}" placeholder="Buscar por nome, função ou local..."
        class="px-3 py-2 rounded-xl border w-72 outline-none focus:ring" />
      <select name="filtro" class="px-3 py-2 rounded-xl border">
        <option value="todos" {% if filtro=='todos' %}selected{% endif %}>Todos</option>
        <option value="pendencias" {% if filtro=='pendencias' %}selected{% endif %}>Com pendências</option>
        <option value="exame_pendente" {% if filtro=='exame_pendente' %}selected{% endif %}>Exame pendente</option>
        <option value="contrato_pendente" {% if filtro=='contrato_pendente' %}selected{% endif %}>Contrato pendente</option>
      </select>
      <button class="px-4 py-2 rounded-xl bg-black text-white">Filtrar</button>
    </form>

    <form method="post" action="{{ url_for('novo') }}" class="ml-auto flex items-center gap-2 bg-white border rounded-2xl px-3 py-2">
      <input required name="nome" placeholder="Nome" class="px-3 py-2 rounded-xl border" />
      <input required name="funcao" placeholder="Função" class="px-3 py-2 rounded-xl border" />
      <input name="local_trabalho" placeholder="Local" class="px-3 py-2 rounded-xl border w-32" />
      <select name="tipo_contrato" class="px-3 py-2 rounded-xl border">
        <option>INTERMITENTE</option>
        <option>CLT</option>
        <option>RPA</option>
      </select>
      <input type="number" step="0.01" min="0" name="valor_diaria" placeholder="Diária (R$)" class="px-3 py-2 rounded-xl border w-36" />
      <button class="px-4 py-2 rounded-xl bg-emerald-600 text-white">Adicionar</button>
    </form>
  </div>

  <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
    {% for f in funcionarios %}
      {% include "_card.html" %}
    {% else %}
      <div class="col-span-full text-center text-gray-500">Nenhum colaborador encontrado.</div>
    {% endfor %}
  </div>
{% endblock %}
